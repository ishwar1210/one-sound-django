{% extends "base.html" %} 
{% load static %} 
{% block title %}One Sound{% endblock title %} 
{% block content %}
<!-- ##### Hero Area Start ##### -->
<section class="hero-area">
  <div class="hero-slides owl-carousel">
    {% for featured in featured_albums %}
    <!-- Single Hero Slide -->
    <div
      class="single-hero-slide d-flex align-items-center justify-content-center"
    >
      <!-- Slide Img -->
      <a href="{% url 'album_detail' featured.album.id %}" class="slide-link">
        <div
          class="slide-img bg-img"
          style="background-image: url('{% if featured.slide_image %}{{ featured.slide_image.url }}{% else %}{{ featured.album.album_image.url }}{% endif %}')"
        ></div>
      </a>
      <!-- Slide Content -->
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="hero-slides-content text-center">
              <h6 data-animation="fadeInUp" data-delay="100ms">Latest album</h6>
              <h2 data-animation="fadeInUp" data-delay="300ms">
                {{ featured.custom_heading|default:featured.album.album_name }}
                <span
                  >{{ featured.custom_subheading|default:featured.album.album_name }}</span
                >
              </h2>
              <a
                data-animation="fadeInUp"
                data-delay="500ms"
                href="{% url 'album_detail' featured.album.id %}"
                class="btn oneMusic-btn mt-50"
              >
                Discover <i class="fa fa-angle-double-right"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<!-- ##### Hero Area End ##### -->

<!-- ##### Latest Albums Area Start ##### -->
<section class="latest-albums-area section-padding-100">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="section-heading style-2">
          <p>See what’s new</p>
          <h2>Latest Albums</h2>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="albums-slideshow owl-carousel">
          {% for album in albums %}
          <!-- Single Album -->
          <div class="single-album">
            <a href="{% url 'album_detail' album.id %}">
              <img src="{{ album.album_image.url }}" alt="" />
            </a>
            <div class="album-info">
              <a href="{% url 'album_detail' album.id %}">
                <h5>{{ album.album_name }}</h5>
              </a>
              <p>{{ album.album_type }}</p>
            </div>
          </div>

          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>
<!-- ##### Latest Albums Area End ##### -->

<!-- ##### Miscellaneous Area Start ##### -->
<section class="miscellaneous-area section-padding-100-0">
  <div class="container">
    <div class="section-heading style-2">
      <p>See what’s new</p>
      <h2>Tops</h2>
    </div>
    <div class="row">
      <!-- ***** Weeks Top ***** -->
      <div class="col-12 col-lg-4">
        <div class="weeks-top-area mb-100">
          <div
            class="section-heading text-left mb-50 wow fadeInUp"
            data-wow-delay="50ms"
          >
            <p>See what's new</p>
            <h2>This week's top</h2>
          </div>

          {% for album in top_albums %}
          <!-- Single Top Item -->
          <div
            class="single-top-item d-flex wow fadeInUp"
            data-wow-delay="{{ forloop.counter0|add:1 }}00ms"
          >
            <div class="thumbnail">
              <a href="{% url 'album_detail' album.id %}">
                <img
                  src="{{ album.album_image.url }}"
                  alt="{{ album.album_name }}"
                />
              </a>
            </div>
            <div class="content-">
              <a href="{% url 'album_detail' album.id %}">
                <h6>{{ album.album_name }}</h6>
              </a>
              <p>{{ album.album_type }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- ***** New Hits Songs ***** -->
      <div class="col-12 col-lg-4">
        <div class="new-hits-area mb-100">
          <div
            class="section-heading text-left mb-50 wow fadeInUp"
            data-wow-delay="50ms"
          >
            <p>See what's new</p>
            <h2>New Hits</h2>
          </div>

          {% for album in new_hits %}
          <!-- Single New Item -->
          <div
            class="single-new-item d-flex align-items-center justify-content-between wow fadeInUp"
            data-wow-delay="{{ forloop.counter0|add:1 }}00ms"
          >
            <div class="first-part d-flex align-items-center">
              <div class="thumbnail">
                <a href="{% url 'album_detail' album.id %}">
                  <img
                    src="{{ album.album_image.url }}"
                    alt="{{ album.album_name }}"
                  />
                </a>
              </div>
              <div class="content-">
                <a href="{% url 'album_detail' album.id %}">
                  <h6>{{ album.album_name }}</h6>
                </a>
                <p>{{ album.album_type }}</p>
              </div>
            </div>
            {% if album.audio_file %}
            <audio preload="auto" controls>
              <source src="{{ album.audio_file.url }}" />
            </audio>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- ***** Popular Artists ***** -->
      <div class="col-12 col-lg-4">
        <div class="popular-artists-area mb-100">
          <div
            class="section-heading text-left mb-50 wow fadeInUp"
            data-wow-delay="50ms"
          >
            <p>See what's new</p>
            <h2>Popular Albums</h2>
          </div>

          {% for album in popular_albums %}
          <!-- Single Artist -->
          <div
            class="single-artists d-flex align-items-center wow fadeInUp"
            data-wow-delay="{{ forloop.counter0|add:1 }}00ms"
          >
            <div class="thumbnail">
              <a href="{% url 'album_detail' album.id %}">
                <img
                  src="{{ album.album_image.url }}"
                  alt="{{ album.album_name }}"
                />
              </a>
            </div>
            <div class="content-">
              <a href="{% url 'album_detail' album.id %}">
                <h6>{{ album.album_name }}</h6>
              </a>
              <p>{{ album.album_type }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>
<!-- ##### Miscellaneous Area End ##### -->

{% if latest_event %}
<section class="latest-event-area section-padding-100">
  <div class="container">
    <div class="section-heading style-2">
      <p>See what’s new</p>
      <h2>Latest Event</h2>
    </div>
    <div
      class="single-event p-4 mb-4 d-flex align-items-center"
      style="background: #f8f9fa; border-radius: 8px"
    >
      {% if latest_event and latest_event.cover_image %}
      <div style="flex: 0 0 180px; margin-right: 30px">
        <img
          src="{{ latest_event.event_image.url }}"
          alt="{{ latest_event.event_name }}"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
          "
        />
      </div>
      {% endif %}
      <div>
        <h4 style="font-weight: 700">{{ latest_event.event_name }}</h4>
        <p style="margin-bottom: 6px">
          <strong>Date:</strong> {{ latest_event.event_date }}<br />
          <strong>Venue:</strong> {{ latest_event.venue }}
        </p>
        <a
          href="{% url 'event_detail' latest_event.id %}"
          class="btn oneMusic-btn mt-2"
          >View Event</a
        >
      </div>
    </div>
  </div>
</section>
{% endif %} {% if latest_news %}
<section class="latest-news-area section-padding-100">
  <div class="container">
    <div class="section-heading style-2">
      <p>See what’s new</p>
      <h2>Latest News</h2>
    </div>
    <div
      class="single-news p-4 mb-4 d-flex align-items-center"
      style="background: #f8f9fa; border-radius: 8px"
    >
      {% if latest_news.cover_image %}
      <div style="flex: 0 0 180px; margin-right: 30px">
        <img
          src="{{ latest_news.cover_image.url }}"
          alt="{{ latest_news.title }}"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
          "
        />
      </div>
      {% endif %}
      <div>
        <h4 style="font-weight: 700">{{ latest_news.title }}</h4>
        <p style="margin-bottom: 6px">
          <strong>Date:</strong> {{ latest_news.published_date }}<br />
          <strong>Category:</strong> {{ latest_news.category }}
        </p>
        <a href="{% url 'news'  %}" class="btn oneMusic-btn mt-2"
          >Read More News</a
        >
      </div>
    </div>
  </div>
</section>
{% endif %} {% endblock content %}
